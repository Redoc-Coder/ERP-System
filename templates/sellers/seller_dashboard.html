<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XPerience | Seller Dashboard</title>
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="icon" href="/static/images/XPerience-LOGO only.png" />
    <!-- Custom styles -->
    <link rel="stylesheet" href="/static/css/sellers_css/style.min.css" />
  </head>

  <body>
    <div class="layer"></div>
    <!-- ! Body -->
    <a class="skip-link sr-only" href="#skip-target">Skip to content</a>
    <div class="page-flex">
      <!-- ! Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-start">
          <div class="sidebar-head">
            <a
              href="{{ url_for('LandingPage') }}"
              class="logo-wrapper"
              title="Home"
            >
              <span class="sr-only">Home</span>
              <div class="logo-text">
                <span class="logo-title">XPerience</span>
                <span class="logo-subtitle">Seller Dashboard</span>
              </div>
            </a>
            <button
              class="sidebar-toggle transparent-btn"
              title="Menu"
              type="button"
            >
              <span class="sr-only">Toggle menu</span>
              <span class="icon menu-toggle" aria-hidden="true"></span>
            </button>
          </div>
          <div class="sidebar-body">
            <ul class="sidebar-body-menu">
              <li>
                <a class="active" href="{{ url_for('SellerDashboard') }}"
                  ><span class="icon home" aria-hidden="true"></span
                  >Dashboard</a
                >
                <a href="{{ url_for('AddProducts') }}"
                  ><span class="icon add" aria-hidden="true"></span>Add
                  Products</a
                >
                <a href="{{ url_for('Transactions') }}"
                  ><span class="icon paper" aria-hidden="true"></span>View
                  Transactions</a
                >

        
              </li>
              <li>
                <ul class="cat-sub-menu"></ul>
              </li>
            </ul>
          </div>
        </div>

        
  
      </aside>

      <div class="main-wrapper">
        <!-- ! Main nav -->
        <nav class="main-nav--bg">
          <div class="container main-nav">
            <div class="main-nav-start">
              <div class="search-wrapper">
                <i data-feather="search" aria-hidden="true"></i>
                <input type="text" placeholder="Enter keywords ..." required />
              </div>
            </div>
            <div class="main-nav-end">
              <button
                class="sidebar-toggle transparent-btn"
                title="Menu"
                type="button"
              >
                <span class="sr-only">Toggle menu</span>
                <span class="icon menu-toggle--gray" aria-hidden="true"></span>
              </button>

              <button
                class="theme-switcher gray-circle-btn"
                type="button"
                title="Switch theme"
              >
                <span class="sr-only">Switch theme</span>
                <i class="sun-icon" data-feather="sun" aria-hidden="true"></i>
                <i class="moon-icon" data-feather="moon" aria-hidden="true"></i>
              </button>
              <div class="notification-wrapper">
                <button
                  class="gray-circle-btn dropdown-btn"
                  title="To messages"
                  type="button"
                >
                  <span class="sr-only">To messages</span>
                  <span
                    class="icon notification active"
                    aria-hidden="true"
                  ></span>
                </button>
                <ul class="users-item-dropdown notification-dropdown dropdown">
                  <li>
                    <a href="##">
                      <div class="notification-dropdown-icon info">
                        <i data-feather="check"></i>
                      </div>
                      <div class="notification-dropdown-text">
                        <span class="notification-dropdown__title"
                          >Order Received</span
                        >
                        <span class="notification-dropdown__subtitle"
                          >Your Transaction is Completed.</span
                        >
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="##">
                      <div class="notification-dropdown-icon danger">
                        <i data-feather="info" aria-hidden="true"></i>
                      </div>
                      <div class="notification-dropdown-text">
                        <span class="notification-dropdown__title"
                          >Cashout denied</span
                        >
                        <span class="notification-dropdown__subtitle"
                          >Your cashout has been denied by admin.</span
                        >
                      </div>
                    </a>
                  </li>
                  <li>
                    <a class="link-to-page" href="##"
                      >Go to Notifications page</a
                    >
                  </li>
                </ul>
              </div>
         
            </div>
          </div>
        </nav>

        <!-- ! Main -->
        <main class="main users chart-page" id="skip-target">
          <div class="container">
            <h2 class="main-title">Dashboard</h2>
            <div class="row stat-cards">
              <div class="col-md-6 col-xl-3">
                <article class="stat-cards-item">
                  <div class="stat-cards-icon primary">
                    <i data-feather="bar-chart-2" aria-hidden="true"></i>
                  </div>
                  <div class="stat-cards-info">
                    <p class="stat-cards-info__num"></p>
                    <p class="stat-cards-info__title">Total sales: â‚±{{ total_sales }}</p>
                    <p class="stat-cards-info__progress">
                      <span class="stat-cards-info__profit success">
                        <i data-feather="trending-up" aria-hidden="true"></i
                        >4.07%
                      </span>
                      Last month
                    </p>
                  </div>
                </article>
              </div>
              <div class="col-md-6 col-xl-3">
                <article class="stat-cards-item">
                  <div class="stat-cards-icon warning">
                    <i data-feather="file" aria-hidden="true"></i>
                  </div>
                  <div class="stat-cards-info">
                    <p class="stat-cards-info__num">{{ total_products }}</p>
                    <p class="stat-cards-info__title">Total products</p>
                    <p class="stat-cards-info__progress">
                      <span class="stat-cards-info__profit success">
                        <i data-feather="trending-up" aria-hidden="true"></i
                        >0.24%
                      </span>
                      Last month
                    </p>
                  </div>
                </article>
              </div>
              <div class="col-md-6 col-xl-3">
                <article class="stat-cards-item">
                  <div class="stat-cards-icon purple">
                    <i data-feather="file" aria-hidden="true"></i>
                  </div>
                  <div class="stat-cards-info">
                    <p class="stat-cards-info__num">
                      {{total_delivered_orders}}
                    </p>
                    <p class="stat-cards-info__title">Transactions</p>
                    <p class="stat-cards-info__progress">
                      <span class="stat-cards-info__profit danger">
                        <i data-feather="trending-down" aria-hidden="true"></i
                        >1.64%
                      </span>
                      Last month
                    </p>
                  </div>
                </article>
              </div>
              <div class="col-md-6 col-xl-3">
                <article class="stat-cards-item">
                  <div class="stat-cards-icon success">
                    <i data-feather="feather" aria-hidden="true"></i>
                  </div>
                  <div class="stat-cards-info">
                    <p class="stat-cards-info__num">
                      Diko pa alam ilalagay dito
                    </p>
                    <p class="stat-cards-info__title">...</p>
                    <p class="stat-cards-info__progress">
                      <span class="stat-cards-info__profit warning">
                        <i data-feather="trending-up" aria-hidden="true"></i
                        >0.00%
                      </span>
                      Last month
                    </p>
                  </div>
                </article>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <div class="users-table table-wrapper">
                  <table class="posts-table">
                    <thead>
                      <tr class="users-table-info">
                        <th>
                          <label class="users-table__checkbox ms-20">
                            <input type="checkbox" class="check-all" />Select
                            All
                          </label>
                        </th>
                        <th>Item Name</th>
                        <th>Customer</th>
                        <th>Quantity</th>
                        <th>Total Price</th>
                        <th>Status</th>
                        <th>Order Date</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for order in orders %}
                      {% if order.status.lower() != 'delivered' %}
                      <tr>
                          <td>
                              <label class="users-table__checkbox">
                                  <input type="checkbox" class="check" />
                                  <div class="categories-table-img">
                                      <picture>
                                        <img src="data:{{ order.mime_type }};base64, {{ order.product_image }}" alt="product" />
                                      </picture>
                                  </div>
                              </label>
                          </td>
                          <td>{{ order.product_name }}</td>
                          <td>
                              <div class="pages-table-img">
                                
                                  {{ order.customer_name }}
                              </div>
                          </td>
                          <td>{{ order.quantity }}</td>
                          <td>{{ order.total }}</td>
                          <td><span class="badge-pending">{{ order.status }}</span></td>
                          <td>{{ order.orderdate.strftime('%d.%m.%Y') }}</td>
                          <td>
                            <span class="p-relative">
                              <button class="dropdown-btn transparent-btn dropdown-toggle" type="button" title="More info">
                                  <div class="sr-only">More info</div>
                                  <i data-feather="more-horizontal" aria-hidden="true"></i>
                              </button>
                              <ul class="users-item-dropdown dropdown" data-order-id="{{ order.id }}">
                                  
                                  <li><a href="#" class="update-status" data-status="preparing">In transit</a></li>
                                  <li><a href="#" class="update-status" data-status="out for delivery">Out for delivery</a></li>
                                  <li><a href="#" class="update-status" data-status="delivered">Delivered</a></li>
                              </ul>
                          </span>
                          </td>
                      </tr>
                      {% endif %}
                      {% endfor %}
          
                    </tbody>
                  </table>
                </div>
              </div>
        
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- TODO: Need to fix UI -->
    <!-- Modal -->
    <div
      class="modal fade"
      id="myModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable"
      >
        <div class="modal-content pb-5 rounded">
          <div class="modal-header">
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="container">
            <div class="row mt-2">
              <!-- left column -->
              <div class="col-md-3">
                <div class="text-center">
                  <img
                    src="//placehold.it/100"
                    class="avatar img-circle"
                    alt="avatar"
                  />
                  <h6 class="mt-3">Upload Store Photo</h6>

                  <input type="file" class="form-control" />
                </div>
              </div>

              <!-- edit form column -->
              <div class="col-md-9 personal-info">
                <h3>Store info</h3>

                <form class="form-horizontal" role="form">
                  <div class="form-group">
                    <label class="col-lg-3 control-label">Store name:</label>
                    <div class="col-lg-8">
                      <input
                        class="form-control"
                        type="text"
                        value="Fitness Central"
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-lg-3 control-label mt-3">Email:</label>
                    <div class="col-lg-8">
                      <input
                        class="form-control"
                        type="text"
                        value="gelilioallan@gmail.com"
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-3 control-label mt-3">Username:</label>
                    <div class="col-md-8">
                      <input class="form-control" type="text" value="david" />
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-3 control-label mt-3">Password:</label>
                    <div class="col-md-8">
                      <input
                        class="form-control"
                        type="password"
                        value="11111122333"
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-3 control-label mt-3"
                      >Confirm password:</label
                    >
                    <div class="col-md-8">
                      <input
                        class="form-control"
                        type="password"
                        value="11111122333"
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-8">
                      <input
                        type="button"
                        class="btn btn-primary"
                        value="Save Changes"
                      />
                      <span></span>
                      <input
                        type="reset"
                        class="btn btn-danger"
                        value="Cancel"
                      />
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document
        .getElementById("openProfileModal")
        .addEventListener("click", function () {
          var myModal = new bootstrap.Modal(document.getElementById("myModal"));
          myModal.show();
        });
    </script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <!-- Icons library -->
    <script src="/plugins/feather.min.js"></script>

    <!--Functions-->
    <script src="/static/js/seller_dashboard_functions/edit_transaction_status.js"></script>


    <!-- Custom scripts -->
    <script src="/static/js/seller_dashboard_functions/script.js"></script>
  </body>
</html>
